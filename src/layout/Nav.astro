---
import IconBars from "../assets/icon-bars.astro";
import IconLogo from "../assets/logo.astro";

const { lang } = Astro.props;

const langLinks = {
    "en": {
        "label": "",
        "name": "العربية",
        "url": "/ar"
    },
    "ar": {
        "label": "",
        "name": "En",
        "url": "/"
    }
};

const navLinks = {
    "en": [{
        "label": "home",
        "name": "home",
        "url": "/"
    },
    {
        "label": "blog",
        "name": "blog",
        "url": "/blog"
    },
    {
        "label": "about",
        "name": "about",
        "url": "/about"
    },
    {
        "label": "help",
        "name": "help",
        "url": "/help"
    },
    {
        "label": "careers",
        "name": "careers",
        "url": "/careers"
    },
    {
        "label": "pricing",
        "name": "pricing",
        "url": "/pricing"
    }],
    "ar": [{
        "label": "home",
        "name": "home",
        "url": "/ar"
    },
    {
        "label": "blog",
        "name": "blog",
        "url": "/ar/blog"
    },
    {
        "label": "about",
        "name": "about",
        "url": "/ar/about"
    },
    {
        "label": "help",
        "name": "help",
        "url": "/ar/help"
    },
    {
        "label": "careers",
        "name": "careers",
        "url": "/ar/careers"
    },
    {
        "label": "pricing",
        "name": "pricing",
        "url": "/ar/pricing"
    }]
};
---
<nav x-data="navmenu">

    <div id="nav-box"
        class="grid justify-items-center items-center
        grid-rows-[repeat(2,min-content)] grid-cols-[max-content_1fr_max-content]
        md:grid-rows-[1fr] md:grid-cols-[max-content_1fr_max-content]"
    >

        <div 
            id="bars-btn" 
            class="cursor-pointer 
            md:hidden
            max-w-[3rem]"
            @click="open = !open"
        >
            <IconBars />
        </div>

        <div 
            id="logo" 
            class="md:col-start-1 md:col-end-2
            max-w-[18rem]"
        >
            <IconLogo />
        </div>

        <div 
            id="list-links" 
            class="w-full 
            row-start-2 row-end-3 col-start-1 col-end-4
            md:row-start-1 md:row-end-1 md:col-start-2 md:col-end-3"
        >
            <ul
                class="text-4xl text-center capitalize
                [&[x-cloak]]:hidden
                md:!flex md:justify-start md:text-end md:!h-full"
                x-ref="navLinkList"
                x-show="open"
                x-collapse
                x-cloak
            >
                {
                    navLinks[lang].map( link => {
                        return <li class="nav-link
                                py-6 md:px-4 md:py-0
                                text-sm 
                                font-ssp font-regular 
                                capitalize" 
                                data-label={link.label}
                            >
                            <a href={link.url}>{ link.name }</a>
                        </li>
                    })
                }
            </ul>
        </div>

        <div 
            id="lang-switch-btn" 
            class="cursor-pointer
            md:col-start-3 md:col-end-4"
        >
            <div class="nav-link text-cd-md font-ssp font-bold capitalize" data-label={langLinks[lang].label}>
                <a href={langLinks[lang].url}>{ langLinks[lang].name }</a>
            </div>
        </div>
        
    </div>

</nav>