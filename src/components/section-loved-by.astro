---

import { sortAsc } from "../js/utils.js";

const { lang } = Astro.props;

const items1 = lang === 'en' ? 
    (await Astro.glob('../content/en/developers/devs1/*.md')).sort(sortAsc) : 
    (await Astro.glob('../content/ar/developers/devs1/*.md')).sort(sortAsc);
const items2 = lang === 'en' ? 
    (await Astro.glob('../content/en/developers/devs2/*.md')).sort(sortAsc) :
    (await Astro.glob('../content/ar/developers/devs2/*.md')).sort(sortAsc);
const items3 = lang === 'en' ? 
    (await Astro.glob('../content/en/developers/devs3/*.md')).sort(sortAsc) :
    (await Astro.glob('../content/ar/developers/devs3/*.md')).sort(sortAsc);

---
<style lang="scss">

    a {
        display: block;
        margin-top: 3.2rem;

        &:first-child {
            margin-top: 0rem;
        }
    }

    article {
        @include withRtl(text-align, left, right);
    }

</style>
<section id="loved-by" class="px-[2rem] max-w-[116rem] mx-auto">

    <header class="text-center">
        <slot name="header"></slot>
        <slot name="subHeader"></slot>
    </header>

    <div class="w-full mb-[9.6rem]">
        <div class="grid gap-[3.2rem] grid-cols-1 md:grid-cols-3 items-center">
            <div class="md:block">

                {
                    items1.map( item => {
                        return <a href="#">
                            <article class="p-[2.4rem] rounded-[0.8rem] border border-[#211f2d]">
                                <header class="flex mb-[1.6rem]">
                                    <img src={item.frontmatter.avatar} alt="" class="w-[3.2rem] h-[3.2rem] rounded-full" />
                                    <div class="flex flex-col">
                                        <p class="text-[1.4rem] font-bold">{item.frontmatter.title}</p>
                                        <p class="text-[1.2rem] text-[#a1a0ab] font-medium">{item.frontmatter.twi}</p>
                                    </div>
                                </header>
                                <item.Content />
                            </article>
                        </a>
                    })
                }

            </div>
            <div class="hidden md:block">
                
                {
                    items2.map( item => {
                        return <a href="#">
                            <article class="p-[2.4rem] rounded-[0.8rem] border border-[#211f2d]">
                                <header class="flex mb-[1.6rem]">
                                    <img src={item.frontmatter.avatar} alt="" class="w-[3.2rem] h-[3.2rem] rounded-full" />
                                    <div class="flex flex-col">
                                        <p class="text-[1.4rem] font-bold">{item.frontmatter.title}</p>
                                        <p class="text-[1.2rem] text-[#a1a0ab] font-medium">{item.frontmatter.twi}</p>
                                    </div>
                                </header>
                                <item.Content />
                            </article>
                        </a>
                    })
                }

            </div>
            <div class="hidden md:block">
                
                {
                    items3.map( item => {
                        return <a href="#">
                            <article class="p-[2.4rem] rounded-[0.8rem] border border-[#211f2d]">
                                <header class="flex mb-[1.6rem]">
                                    <img src={item.frontmatter.avatar} alt="" class="w-[3.2rem] h-[3.2rem] rounded-full" />
                                    <div class="flex flex-col">
                                        <p class="text-[1.4rem] font-bold">{item.frontmatter.title}</p>
                                        <p class="text-[1.2rem] text-[#a1a0ab] font-medium">{item.frontmatter.twi}</p>
                                    </div>
                                </header>
                                <item.Content />
                            </article>
                        </a>
                    })
                }

            </div>
        </div>
    </div>

</section>